<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Spidey | Spidey API Reference </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Spidey | Spidey API Reference ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="styles/config.css">
      <link rel="stylesheet" href="styles/discord.css">
      <link rel="stylesheet" href="styles/singulink.css">
      <link rel="stylesheet" href="styles/main.css">
      <meta property="docfx:navrel" content="toc.html">
      <meta property="docfx:tocrel" content="toc.html">
  
  <meta property="docfx:rel" content="">
  <meta property="docfx:newtab" content="true">
    </head>
    <body>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="index.html">
              <img src="images/icon.png" alt="Spidey" class="logomark">
              <span class="brand-title">Spidey</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="index.html">
                          <img src="images/icon.png" alt="Spidey" class="logomark">
                          <span class="brand-title">Spidey</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>
                </div>
                <div class="footer">
  <strong><a href='https://github.com/JaCraig/Spidey'>Open in Github</a></strong>
  
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div id="contribution">
                               <a href="https://github.com/JaCraig/Spidey/blob/master/docfx_project/index.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">
<h1 id="spidey">Spidey</h1>

<p><a href="https://github.com/JaCraig/Spidey/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/Spidey/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a></p>
<p>Library to help with crawling web content. Compatible with .Net Core and .Net Framework.</p>
<h2 id="setting-up-the-library">Setting up the Library</h2>
<p>Spidey relies on <a href="https://github.com/JaCraig/Canister">Canister</a> in order to hook itself up. In order for this to work, you must do the following at startup:</p>
<pre><code>new ServiceCollection().AddCanisterModules();
</code></pre>
<p>The AddCanisterModules function is an extension method that registers it with the IoC container. When this is done, Spidey is ready to use.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>Spidey really boils down to using one class called Crawler:</p>
<pre><code>ServiceCollection.AddSingleton(new Options
			{
			    ItemFound = FoundFile=&gt;{}                                            //The callback method used when a new page is discovered.
			    Allow = new List&lt;string&gt; { &quot;http://mywebsite&quot;, &quot;http://mywebsite2&quot; },    //Regexes of what sites/pages are allowed to be crawled.
			    FollowOnly = new List&lt;string&gt; { &quot;...&quot; },                                 //Regexes of pages to only follow links that are found on them.
			    Ignore = new List&lt;string&gt; { &quot;...&quot; },                                     //Regexes that the system will ignore when they are encountered.
			    StartLocations = new List&lt;string&gt; { &quot;http://mywebsite&quot;, &quot;http://mywebsite2&quot; },    //Starting URLs for the crawler.
			    UrlReplacements = new Dictionary&lt;string,string&gt; {...}                    //When the system hits one of the keys in the dictionary, it will replace it with the value.
			});
			
</code></pre>
<p>Note that it is recommended that you actually register the Options object in your ServiceCollection and resolve the Crawler object from the service provider but it is not required. You can simply new up an instance of Crawler if you want. Anyway, the Options class has a number of properties, some of which are not displayed above such as NetworkCredentials, UseDefaultCredentials, and Proxy. The callback method is what will be called by the system once a link's info has been received and looks like this:</p>
<pre><code>void CallbackMethod(ResultFile obj) { ... }
</code></pre>
<p>The library will handle parsing of links found within the page, downloading the content, etc. for the most part. At this point all you have to do is call the StartCrawl method:</p>
<pre><code>MyCrawler.StartCrawl();
</code></pre>
<h2 id="customization">Customization</h2>
<p>Note that it's possible to customize the crawler's various parts. The system is divided into the following sections:</p>
<ol>
<li>Content Parser (IContentParser) - This parses the resulting data and converts it to the ResultFile object.</li>
<li>Engine (IEngine) - This downloads the content from the server.</li>
<li>Link Discoverer (ILinkDiscoverer) - Takes the content from the engine and looks for links to other resources.</li>
<li>Processor (IProcessor) - Takes the parsed content and hands it off to your code. The default one simply calls the method provided in the options.</li>
<li>Scheduler (IScheduler) - Handles handing out work to the various workers.</li>
<li>Pipeline (IPipeline) - Manages the various parts of the process by feeding the content to the next bit of the process.</li>
</ol>
<p>These subsystems all implement interfaces found in the Spidey.Engines.Interfaces namespace. In order to replace the default in any of these systems all you need to do is create a class that implements the interface that you want to replace. After that the system will automatically pick it up if resolved from the service provider. If you, instead, new up a Crawler object then you will need to compose the Pipeline object.</p>
<h2 id="installation">Installation</h2>
<p>The library is available via Nuget with the package name &quot;Spidey&quot;. To install it run the following command in the Package Manager Console:</p>
<p>Install-Package Spidey</p>
<h2 id="faq">FAQ</h2>
<ol>
<li>Is it possible to run the crawler using multiple nodes?</li>
</ol>
<p>The default scheduler assumes that you are only running the crawler from one location and doesn't talk to other instances of the application. But it is possible to replace the scheduler with one that will talk via some mechanism like a database to coordinate work between instances and is recommended for more complex setups.</p>
<h2 id="build-process">Build Process</h2>
<p>In order to build the library you will require the following:</p>
<ol>
<li>Visual Studio 2019</li>
</ol>
<p>Other than that, just clone the project and you should be able to load the solution and build without too much effort.</p>
</article>
                </div>

                <div class="copyright-footer">
                    <span>&#169; James Craig. All rights reserved.</span>
                </div>
            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="styles/docfx.js"></script>
        <script type="text/javascript" src="styles/main.js"></script>
        <script type="text/javascript" src="styles/singulink.js"></script>    </body>
</html>
